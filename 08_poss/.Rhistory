scale_fill_hue(name="Tackle\nResult", h =c(20,60)) +
theme(axis.ticks=element_blank(),
axis.text.y=element_blank()) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
source('~/Documents/football/team_tackle_viz.R')
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=1, stat="identity", color="white") + coord_polar() +
scale_fill_hue(name="Tackle\nResult", h =c(70,110)) +
theme(axis.ticks=element_blank(),
axis.text.y=element_blank()) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
source('~/Documents/football/team_tackle_viz.R')
# visualize team tackle data
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=1, stat="identity", color="white") + coord_polar() +
scale_fill_hue(name="Tackle\nResult", h =c(200,240)) +
theme(axis.ticks=element_blank(),
axis.text.y=element_blank()) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
# visualize team tackle data
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=1, stat="identity", color="white") + coord_polar() +
scale_fill_hue(name="Tackle\nResult", h =c(0,255)) +
theme(axis.ticks=element_blank(),
axis.text.y=element_blank()) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
# visualize team tackle data
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=1, stat="identity", color="white") + coord_polar() +
scale_fill_grey(name="Tackle\nResult", h =c(0,255)) +
theme(axis.ticks=element_blank(),
axis.text.y=element_blank()) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
source('~/Documents/football/team_tackle_viz.R')
# visualize team tackle data
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=1, stat="identity", color="white") + coord_polar() +
scale_fill_grey(name="Tackle\nResult") +
theme(axis.ticks=element_blank(),
axis.text.y=element_blank()) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
# visualize team tackle data
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=1, stat="identity", color="white") + coord_polar() +
scale_fill_grey(name="Tackle\nResult", start=.8) +
theme(axis.ticks=element_blank(),
axis.text.y=element_blank()) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=1, stat="identity", color="white") + coord_polar() +
scale_fill_grey(name="Tackle\nResult", start=.5) +
theme(axis.ticks=element_blank(),
axis.text.y=element_blank()) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
# visualize team tackle data
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=1, stat="identity", color="white") + coord_polar() +
scale_fill_grey(name="Tackle\nResult", start=.5, end=.1) +
theme(axis.ticks=element_blank(),
axis.text.y=element_blank()) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=.75, stat="identity") +
scale_fill_grey(name="Tackle\nResult", start=.5, end=.1)
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=.75, stat="identity") +
scale_fill_grey(name="Tackle\nResult", start=.5, end=.1) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
source('~/Documents/football/team_tackle_viz.R')
source('~/Documents/football/team_tackle_viz.R')
# visualize team tackle data in a consultant chart
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=1, stat="identity", color="white") + coord_polar() +
scale_fill_grey(name="Tackle\nResult", start=.5, end=.1) +
theme(axis.ticks=element_blank(),
axis.text.y=element_blank()) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
source('~/Documents/football/team_tackle_viz.R')
# visualize team tackle data in a consultant chart
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=1, stat="identity", color="white") + coord_polar() +
scale_fill_grey(name="Tackle\nResult", start=.5, end=.1) +
theme(axis.ticks=element_blank(),
axis.text.y=element_blank()) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
# visualize team tackle data in a bar chart
ggplot(Tl, aes(factor(dir), count, fill=factor(dir))) +
geom_bar(width=.75, stat="identity") +
scale_fill_grey(name="Tackle\nResult", start=.5, end=.1) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
# visualize team tackle data in a consultant chart
ggplot(Tl, aes(factor(dir), count, fill=factor(dir))) +
geom_bar(width=1, stat="identity", color="white") + coord_polar() +
scale_fill_grey(name="Tackle\nResult", start=.5, end=.1) +
theme(axis.ticks=element_blank(),
axis.text.y=element_blank()) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
source('~/Documents/football/team_tackle_viz.R')
# visualize team tackle data in a consultant chart
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=1, stat="identity", color="white") + coord_polar() +
scale_fill_grey(name="Tackle\nResult", start=.5, end=.1) +
theme(axis.ticks=element_blank(),
axis.text.y=element_blank()) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
# visualize team tackle data in a bar chart
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=.75, stat="identity") +
scale_fill_grey(name="Tackle\nResult", start=.5, end=.1) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
# visualize team tackle data in a consultant chart
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=1, stat="identity", color="white") + coord_polar() +
scale_fill_grey(name="Tackle\nResult", start=.5, end=.1) +
theme(axis.ticks=element_blank(),
axis.text.y=element_blank()) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
source('~/Documents/football/player_tackle_viz.R')
source('~/Documents/football/team_tackle_viz.R')
Tl
source('~/Documents/football/player_tackle_viz.R')
player_tackles
player_tackles_made
source('~/Documents/football/player_tackle_viz.R')
team
player_tackles
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_stats
player_dir
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/player_tackle_viz.R')
team_tackles
?spread
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_dir
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_dir
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_dir
source('~/rugby7s/05_tackle_viz/tackle_viz.R')
source('~/rugby7s/05_tackle_viz/tackle_viz.R')
tackles
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_dir
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
circles
player_dir
player_dir[1:12]
player_dir[1:12],
player_dir[1:12,]
player_dir[,1:12]
player_dir[,2:13]
play_dir[!is.na(player_dir[,2:13])]
player_dir[!is.na(player_dir[,2:13])]
player_dir[!is.na(player_dir)]
!is.na(player_dir)
!is.na(player_dir[,2:13])
circles[!is.na(player_dir[,2:13])]
!is.na(player_dir[,2:13])
!is.na(player_dir[,2:13])<- 1
!is.na(player_dir[,2:13]) <- 1
circles[!is.na(player_dir[,2:13])] <- 1
circles
circles[is.na(player_dir[,2:13])] <- 0
circles
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
circles
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
team_tackles
str(team_tackles)
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
team_tackles$NUMBER
unique(team_tackles$NUMBER)
sort(unique(team_tackles$NUMBER))
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_stats
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_tackle_attempts
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_tackle_attempts
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_stats
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_stats
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_dir
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
circles
player_dir
circles
str(circles)
str(circles)
player_dir
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_stats
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_stats
player_stats$eff
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_dir
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
circles
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_stats
apply(player_stats, 2 sum)
apply(player_stats, 2, sum)
apply(player_stats[3:14], 2, sum)
player_stats
apply(player_stats$made, 2, sum)
sum(player_stats$made)
player_tackle_attempts
player_dir
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_dir
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_dir
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_dir
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_dir
player_dir %>% select(-(att:made)) %>% spread(player_dir, DIR, eff)
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_Eff
player_eff
player_dir
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
which.max(player_eff)
names[which.max(player_eff)]
player_eff
names[which.max(player_eff[3:14])]
?which.max
names[which.max(player_eff[3:14], na.rm=TRUE)]
player_eff
player_dir$eff
player_dir
player_dir %>% group_by(player) %>% summarise(peff=sum(made)/sum(att))
player_dir %>% group_by(PLAYER) %>% summarise(peff=sum(made)/sum(att))
player_dir %>% group_by(PLAYER) %>% summarise(peff=round(sum(made)/sum(att),2))
player_stats$eff
player_stats
which.max(player_stats$eff)
player_stats[which.max(player_stats$eff),]
player_stats[which.max(player_stats$eff),c(2,5)]
player_stats[which.max(player_stats$eff),c(2,6)]
max_player <- player_stats[which.max(player_stats$eff),c(2,6)]
max_player
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_dir
player_dir %>% group_by(dir) %>% summarise(sum(made)/sum(att))
player_dir %>% group_by(DIR) %>% summarise(sum(made)/sum(att))
dir_eff <- player_dir %>% group_by(DIR) %>% summarise(dir_eff=round(sum(made)/sum(att),2))
dir_Eff
dir_eff
max_dir <- dir_eff[which.max(dir_eff$dir_eff)]
max_dir
max_dir <- dir_eff[which.max(dir_eff$dir_eff),]
max_dir
min_dir <- dir_eff[which.min(dir_eff$dir_eff),]
min_dir
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
min_dir
max_dir
player_stats
player_sdir
player_dir
player_tackle_attempts
player_dir
player_stats
player_eff
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_dir
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
min_dir
max_dir
max_dir[,2]
max_dir[,1]
as.numeric(max_dir[,1])
as.numeric(max_dir[,2])
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
as.numeric(max_dir[,2])
player_stats
sum(player_stats$att)
sum(player_stats$made)
sum(player_stats$made)/sum(player_stats$att)
player_stats$made/player_stats$att
mean(player_stats$eff)
boxplot(player_stats)
boxplot(player_stats[3:5,])
boxplot(player_stats[,3:%])
boxplot(player_stats[,3:5])
boxplot(player_stats[,3:6])
boxplot(player_stats[,6])
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
source('~/Documents/football/team_tackle_viz.R')
source('~/Documents/football/team_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
T$eff
T
T <- T %>%
mutate(made = att - ceiling(att*runif(12, 0, .3))) %>%
mutate(miss = att - made) %>%
mutate(eff = round(made/att,2))
T$eff[is.nan(T$eff)] <- NA
T
set.seed(9940)
T <- data.frame(dir = 1:12, att = sample(5:12, 12, replace=TRUE))
head(T, 5)
T
T <- T %>%
mutate(made = att - ceiling(att*runif(12, 0, .3))) %>%
mutate(miss = att - made) %>%
mutate(eff = round(made/att,2))
T$eff[is.nan(T$eff)] <- NA
T$eff
T <- T %>%
mutate(made = att - ceiling(att*runif(12, 0, .3))) %>%
mutate(miss = att - made) %>%
mutate(eff = round(made/att,2))
T$eff[is.nan(T$eff)] <- NA
source('~/Documents/football/team_tackle_viz.R')
T
Tl
T$eff
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=1, stat="identity", color="white") + coord_polar() +
scale_fill_grey(name="Tackle\nResult", start=.5, end=.1) +
theme(axis.ticks=element_blank(),
axis.text.y=element_blank()) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
Tl
source('~/Documents/football/team_tackle_viz.R')
source('~/Documents/football/team_tackle_viz.R')
source('~/Documents/football/team_tackle_viz.R')
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=.75, stat="identity") +
scale_fill_grey(name="Tackle\nResult", start=.5, end=.1) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction")
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_bar(width=.75, stat="identity") +
scale_fill_grey(name="Tackle\nResult", start=.5, end=.1) +
xlab("Direction") +
ylab("Tackle Count") +
ggtitle("Tackle Attempts by Direction") +
source('~/Documents/football/team_tackle_viz.R')
geom_line(data=T, aes(factor(dir), eff))
T
geom_line(data=T, aes(dir, eff))
ggplot(T, aes(dir, eff)) + geom_line
ggplot(Tl, aes(factor(dir), count, fill=factor(res))) +
geom_line()
source('~/Documents/football/team_tackle_viz.R')
ggplot(T, aes(dir, eff)) + geom_line()
ggplot(T, aes(factor(dir), eff)) + geom_line()
factor(T$dir)
ggplot(T, aes(y=eff)) + geom_line()
ggplot(T, aes(x=dir, y=eff)) + geom_line()
T$dir
ggplot(T, aes(x=1:12, y=eff)) + geom_line()
ggplot(T, aes(x=factor(1:12), y=eff)) + geom_line()
source('~/rugby7s/05_tackle_viz/player_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/player_tackle_viz.R')
?stars
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
player_eff
source('~/rugby7s/05_tackle_viz/player_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/player_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/player_tackle_viz.R')
team_tackles
player_tackles
player_tackles_made
player_tackle_attempts
source('~/rugby7s/05_tackle_viz/player_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/player_tackle_viz.R')
team_tackles
player_eff
player_Eff
player_eff
team_tackles
is.nan(player_tackles)
source('~/rugby7s/05_tackle_viz/player_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/player_tackle_viz.R')
source('~/rugby7s/05_tackle_viz/player_tackle_viz.R')
player_eff
team_tackles
source('~/rugby7s/05_tackle_viz/player_tackle_viz.R')
str(player_tackles)
dim(player_tackles)
player_rackles
player_tackles
source('~/rugby7s/05_tackle_viz/player_tackle_viz.R')
player_tackles
circles
player_tackles_made
player_tackle_attempts
source('~/rugby7s/05_tackle_viz/player_tackle_viz.R')
?geom_text
??geom_text
source('~/rugby7s/05_tackle_viz/player_tackle_viz.R')
circles
team_tackles
source('~/rugby7s/05_tackle_viz/usa_london_tackle_viz.R')
install.packages("lahman")
install.packages("Lahman")
library(Lahman)
ls()
?Lahman
install.packages("Rcpp")
library("Rcpp")
?Rcpp
```{r set-options, echo=FALSE, cache=FALSE}
?quartile
??quartile
quantile(poss.per.match)
source('~/rugby7s/08_poss/poss_full.R')
source('~/rugby7s/08_poss/poss_full.R')
wpm$wpm>=1
sum(wpm$wpm>=1)
sum(wpm$wpm<=0)
sum(wpm$wpm<=0) + sum(wpm$wpm>=1)
nrow(wpm)
sum(wpm$wpm>=1)/nrow(wpm)
sum(wpm$wpm>=0)/nrow(wpm)
sum(wpm$wpm,=0)/nrow(wpm)
sum(wpm$wpm<=0)/nrow(wpm)
sum(wpm$wpm<0)/nrow(wpm)
nrow(wpm$pos>0)
wpm$pos
wpm
sum(wpm$pos>0)
sum(wpm$pos==0)
sum(wpm$pos<0)
nrow(wpm$pos)
nrow(wpm)
length(wpm)
length(wpm$pos)
sum(wpm$pos>0)
sum(wpm$pos==0)
sum(wpm$pwpm==0)
sum(wpm$wpm==0)
length(wpm$wpm==0)
wpm$wpm
nrow(wpm$wpm==0)
wpm$wpm
wpm$wpm==0
sum(wpm$wpm==0)
sum(wpm$wpm<0)
sum(wpm$wpm>0)
source('~/rugby7s/08_poss/poss_full.R')
